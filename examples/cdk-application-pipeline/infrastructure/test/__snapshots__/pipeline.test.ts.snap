// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Pipeline Snapshot 1`] = `
Object {
  "Metadata": Object {
    "cdk_nag": Object {
      "rules_to_suppress": Array [
        Object {
          "id": "AwsSolutions-IAM4",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-IAM5",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-S1",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-KMS5",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-CB3",
          "reason": "Allow CDK Pipeline",
        },
      ],
    },
  },
  "Parameters": Object {
    "BootstrapVersion": Object {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": Object {
    "BuildCacheBucket53E45FA1": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "BuildCacheBucketPolicy857DC586": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "BuildCacheBucket53E45FA1",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "BuildCacheBucket53E45FA1",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "BuildCacheBucket53E45FA1",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "E2ETestCacheBucket6AAEB089": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "E2ETestCacheBucketPolicy6F4B266B": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "E2ETestCacheBucket6AAEB089",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "E2ETestCacheBucket6AAEB089",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "E2ETestCacheBucket6AAEB089",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "PerformanceTestCacheBucket9B84122F": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "PerformanceTestCacheBucketPolicyF22C05E6": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "PerformanceTestCacheBucket9B84122F",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "PerformanceTestCacheBucket9B84122F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "PerformanceTestCacheBucket9B84122F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "SourceCfnRepositoryAssociation738A9DD0": Object {
      "Properties": Object {
        "Name": Object {
          "Fn::GetAtt": Array [
            "SourceCodeCommitRepoF7A67B81",
            "Name",
          ],
        },
        "Type": "CodeCommit",
      },
      "Type": "AWS::CodeGuruReviewer::RepositoryAssociation",
    },
    "SourceCodeCommitRepoF7A67B81": Object {
      "Properties": Object {
        "Code": Object {
          "BranchName": "main",
          "S3": Object {
            "Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
            "Key": "ac1b5c0961a7269b6a053ee64276ed0e20a7f48aefb9f67519539d23aaf10149.zip",
          },
        },
        "RepositoryName": "fruit-api",
      },
      "Type": "AWS::CodeCommit::Repository",
    },
    "SourceCodeCommitRepoTestStackfruitapiPipeline54C9B885mainEventRule07E06655": Object {
      "Properties": Object {
        "EventPattern": Object {
          "detail": Object {
            "event": Array [
              "referenceCreated",
              "referenceUpdated",
            ],
            "referenceName": Array [
              "main",
            ],
          },
          "detail-type": Array [
            "CodeCommit Repository State Change",
          ],
          "resources": Array [
            Object {
              "Fn::GetAtt": Array [
                "SourceCodeCommitRepoF7A67B81",
                "Arn",
              ],
            },
          ],
          "source": Array [
            "aws.codecommit",
          ],
        },
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "arn:",
                  Object {
                    "Ref": "AWS::Partition",
                  },
                  ":codepipeline:us-east-1:dummy:",
                  Object {
                    "Ref": "fruitapiPipeline1F033DA2",
                  },
                ],
              ],
            },
            "Id": "Target0",
            "RoleArn": Object {
              "Fn::GetAtt": Array [
                "fruitapiPipelineEventsRole00ED83BE",
                "Arn",
              ],
            },
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "fruitapiAssetsDockerAsset14F79F031": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Assets/DockerAsset1",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": true,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiAssetsDockerRole19B5E4D3",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"version\\": \\"0.2\\",
  \\"phases\\": {
    \\"install\\": {
      \\"commands\\": [
        \\"npm install -g cdk-assets@2\\"
      ]
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cdk-assets --path \\\\\\"assembly-TestStack-Beta/TestStackBetafruitapiF56320B1.assets.json\\\\\\" --verbose publish \\\\\\"99de3b2e8d07502e2e3958ff3b69f02d494482f390441d48a69003a9261bf03c:834418886742-us-west-2\\\\\\"\\",
        \\"cdk-assets --path \\\\\\"assembly-TestStack-Prod/TestStackProdfruitapi49CAAEE6.assets.json\\\\\\" --verbose publish \\\\\\"99de3b2e8d07502e2e3958ff3b69f02d494482f390441d48a69003a9261bf03c:211909469734-us-west-2\\\\\\"\\"
      ]
    }
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiAssetsDockerRole19B5E4D3": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiAssetsDockerRoleDefaultPolicy19C4FC9E": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":logs:us-east-1:dummy:log-group:/aws/codebuild/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::834418886742:role/cdk-hnb659fds-image-publishing-role-834418886742-us-west-2",
                },
                Object {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::211909469734:role/cdk-hnb659fds-image-publishing-role-211909469734-us-west-2",
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiAssetsDockerRoleDefaultPolicy19C4FC9E",
        "Roles": Array [
          Object {
            "Ref": "fruitapiAssetsDockerRole19B5E4D3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiAssetsFileAsset10798E6EF": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Assets/FileAsset1",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiAssetsFileRole2CEFDD50",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"version\\": \\"0.2\\",
  \\"phases\\": {
    \\"install\\": {
      \\"commands\\": [
        \\"npm install -g cdk-assets@2\\"
      ]
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cdk-assets --path \\\\\\"assembly-TestStack-Beta/TestStackBetafruitapiF56320B1.assets.json\\\\\\" --verbose publish \\\\\\"fee4831da47b606b7939f26c3d2c08d3be03f758f9b0b2bf7a0f1d4439aff699:834418886742-us-west-2\\\\\\"\\",
        \\"cdk-assets --path \\\\\\"assembly-TestStack-Prod/TestStackProdfruitapi49CAAEE6.assets.json\\\\\\" --verbose publish \\\\\\"fee4831da47b606b7939f26c3d2c08d3be03f758f9b0b2bf7a0f1d4439aff699:211909469734-us-west-2\\\\\\"\\"
      ]
    }
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiAssetsFileRole2CEFDD50": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiAssetsFileRoleDefaultPolicyE93AC574": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":logs:us-east-1:dummy:log-group:/aws/codebuild/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::834418886742:role/cdk-hnb659fds-file-publishing-role-834418886742-us-west-2",
                },
                Object {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::211909469734:role/cdk-hnb659fds-file-publishing-role-211909469734-us-west-2",
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiAssetsFileRoleDefaultPolicyE93AC574",
        "Roles": Array [
          Object {
            "Ref": "fruitapiAssetsFileRole2CEFDD50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiCodeBuildActionRole9A61A6CE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Condition": Object {
                "Bool": Object {
                  "aws:ViaAWSService": "codepipeline.amazonaws.com",
                },
              },
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiCodeBuildActionRoleDefaultPolicy58443F01": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineBuild1CEF8E13",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiUpdatePipelineSelfMutation2C85BD41",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiAssetsDockerAsset14F79F031",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiAssetsFileAsset10798E6EF",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineBetaE2ETestE2ETest53CF633A",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineGammaPerformanceTestPerformanceTestF49A44CF",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiCodeBuildActionRoleDefaultPolicy58443F01",
        "Roles": Array [
          Object {
            "Ref": "fruitapiCodeBuildActionRole9A61A6CE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipeline1F033DA2": Object {
      "DependsOn": Array [
        "fruitapiPipelineRoleDefaultPolicyAA4C5A7F",
        "fruitapiPipelineRoleDFF3438D",
      ],
      "Properties": Object {
        "ArtifactStores": Array [
          Object {
            "ArtifactStore": Object {
              "EncryptionKey": Object {
                "Id": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":kms:us-west-2:dummy:alias/-us-westtencryptionaliase94f7d312d6a60d53e79",
                    ],
                  ],
                },
                "Type": "KMS",
              },
              "Location": "teststack-support-us-westeplicationbucket6c4b3648c465b12ccb3f",
              "Type": "S3",
            },
            "Region": "us-west-2",
          },
          Object {
            "ArtifactStore": Object {
              "EncryptionKey": Object {
                "Id": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                    "Arn",
                  ],
                },
                "Type": "KMS",
              },
              "Location": Object {
                "Ref": "fruitapiPipelineArtifactsBucket07B9157E",
              },
              "Type": "S3",
            },
            "Region": "us-east-1",
          },
        ],
        "Name": "fruit-api",
        "RestartExecutionOnUpdate": true,
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineRoleDFF3438D",
            "Arn",
          ],
        },
        "Stages": Array [
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Source",
                  "Owner": "AWS",
                  "Provider": "CodeCommit",
                  "Version": "1",
                },
                "Configuration": Object {
                  "BranchName": "main",
                  "PollForSourceChanges": false,
                  "RepositoryName": Object {
                    "Fn::GetAtt": Array [
                      "SourceCodeCommitRepoF7A67B81",
                      "Name",
                    ],
                  },
                },
                "Name": Object {
                  "Fn::GetAtt": Array [
                    "SourceCodeCommitRepoF7A67B81",
                    "Name",
                  ],
                },
                "Namespace": "Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "Source",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Invoke",
                  "Owner": "AWS",
                  "Provider": "Lambda",
                  "Version": "1",
                },
                "Configuration": Object {
                  "FunctionName": Object {
                    "Ref": "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE",
                  },
                  "UserParameters": "{\\"RepositoryName\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.RepositoryName}\\",\\"CommitId\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.CommitId}\\",\\"RecommendationCategories\\":\\"AWSBestPractices,CodeInconsistencies,CodeMaintenanceIssues,DuplicateCode,InputValidations,ConcurrencyIssues,ResourceLeaks,JavaBestPractices,PythonBestPractices\\",\\"MaxSuppressedLinesOfCodeCount\\":\\"0\\",\\"MaxCriticalRecommendations\\":\\"0\\",\\"MaxHighRecommendations\\":\\"0\\",\\"MaxInfoRecommendations\\":\\"0\\",\\"MaxMediumRecommendations\\":\\"0\\",\\"MaxLowRecommendations\\":\\"0\\",\\"ReviewRequired\\":\\"false\\"}",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "CodeGuruQuality",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Invoke",
                  "Owner": "AWS",
                  "Provider": "Lambda",
                  "Version": "1",
                },
                "Configuration": Object {
                  "FunctionName": Object {
                    "Ref": "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71",
                  },
                  "UserParameters": "{\\"RepositoryName\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.RepositoryName}\\",\\"CommitId\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.CommitId}\\",\\"RecommendationCategories\\":\\"SecurityIssues\\",\\"MaxSuppressedLinesOfCodeCount\\":\\"0\\",\\"MaxCriticalRecommendations\\":\\"0\\",\\"MaxHighRecommendations\\":\\"0\\",\\"MaxInfoRecommendations\\":\\"0\\",\\"MaxMediumRecommendations\\":\\"0\\",\\"MaxLowRecommendations\\":\\"0\\",\\"ReviewRequired\\":\\"false\\"}",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "CodeGuruSecurity",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"1f960863517b57f6cbcd97a086a9a75597a9a453424b216fb3677e2aa27ce070\\"}]",
                  "ProjectName": Object {
                    "Ref": "fruitapiPipelineBuild1CEF8E13",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Build",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "Build_Output",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 2,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"fe182da3d6824a049b916dd0bcd1893b2193a5ff2ba164782281251d07950e08\\"}]",
                  "ProjectName": Object {
                    "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Build_Output",
                  },
                ],
                "Name": "Synth",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Build",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"4f6336fcb35c1cd347c55da8e1c48ab0e7f09ad4db04fed2f11603d2885f6c4d\\"}]",
                  "ProjectName": Object {
                    "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "SelfMutate",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "UpdatePipeline",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ProjectName": Object {
                    "Ref": "fruitapiAssetsDockerAsset14F79F031",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "DockerAsset1",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ProjectName": Object {
                    "Ref": "fruitapiAssetsFileAsset10798E6EF",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "FileAsset1",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "Assets",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": Object {
                    "Fn::Join": Array [
                      "",
                      Array [
                        "arn:",
                        Object {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::834418886742:role/cdk-hnb659fds-cfn-exec-role-834418886742-us-west-2",
                      ],
                    ],
                  },
                  "StackName": "Beta-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-Beta/TestStackBetafruitapiF56320B1.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-Beta/TestStackBetafruitapiF56320B1.template.json",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "fruit-api.Prepare",
                "Region": "us-west-2",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::834418886742:role/cdk-hnb659fds-deploy-role-834418886742-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Beta-fruit-api",
                },
                "Name": "fruit-api.Deploy",
                "Namespace": "TestStackBetafruitapiF56320B1",
                "Region": "us-west-2",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::834418886742:role/cdk-hnb659fds-deploy-role-834418886742-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"ENDPOINT\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"#{TestStackBetafruitapiF56320B1.ApiUrl}\\"}]",
                  "ProjectName": Object {
                    "Ref": "fruitapiPipelineBetaE2ETestE2ETest53CF633A",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "E2E_Test",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Approval",
                  "Owner": "AWS",
                  "Provider": "Manual",
                  "Version": "1",
                },
                "Name": "PromoteFromBeta",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineBetaPromoteFromBetaCodePipelineActionRole2C98A223",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Beta",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": Object {
                    "Fn::Join": Array [
                      "",
                      Array [
                        "arn:",
                        Object {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::834418886742:role/cdk-hnb659fds-cfn-exec-role-834418886742-us-west-2",
                      ],
                    ],
                  },
                  "StackName": "Gamma-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-Gamma/TestStackGammafruitapi76ECF3FE.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-Gamma/TestStackGammafruitapi76ECF3FE.template.json",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "fruit-api.Prepare",
                "Region": "us-west-2",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::834418886742:role/cdk-hnb659fds-deploy-role-834418886742-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Gamma-fruit-api",
                },
                "Name": "fruit-api.Deploy",
                "Region": "us-west-2",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::834418886742:role/cdk-hnb659fds-deploy-role-834418886742-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"ENDPOINT\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"#{TestStackBetafruitapiF56320B1.ApiUrl}\\"}]",
                  "ProjectName": Object {
                    "Ref": "fruitapiPipelineGammaPerformanceTestPerformanceTestF49A44CF",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Performance_Test",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Approval",
                  "Owner": "AWS",
                  "Provider": "Manual",
                  "Version": "1",
                },
                "Name": "PromoteFromGamma",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineGammaPromoteFromGammaCodePipelineActionRoleA0C2C11D",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Gamma",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": Object {
                    "Fn::Join": Array [
                      "",
                      Array [
                        "arn:",
                        Object {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::211909469734:role/cdk-hnb659fds-cfn-exec-role-211909469734-us-west-2",
                      ],
                    ],
                  },
                  "StackName": "Prod-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-Prod/TestStackProdfruitapi49CAAEE6.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-Prod/TestStackProdfruitapi49CAAEE6.template.json",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prepare",
                "Region": "us-west-2",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::211909469734:role/cdk-hnb659fds-deploy-role-211909469734-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-fruit-api",
                },
                "Name": "Deploy",
                "Region": "us-west-2",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::211909469734:role/cdk-hnb659fds-deploy-role-211909469734-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
            ],
            "Name": "Prod",
          },
        ],
      },
      "Type": "AWS::CodePipeline::Pipeline",
    },
    "fruitapiPipelineArtifactsBucket07B9157E": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "KMSMasterKeyID": Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                    "Arn",
                  ],
                },
                "SSEAlgorithm": "aws:kms",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KeyPolicy": Object {
          "Statement": Array [
            Object {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::KMS::Key",
      "UpdateReplacePolicy": "Delete",
    },
    "fruitapiPipelineArtifactsBucketEncryptionKeyAlias323A80C8": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "AliasName": "alias/codepipeline-teststackfruitapipipeline54c9b885",
        "TargetKeyId": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
      },
      "Type": "AWS::KMS::Alias",
      "UpdateReplacePolicy": "Delete",
    },
    "fruitapiPipelineArtifactsBucketPolicyE8E8DABA": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "fruitapiPipelineArtifactsBucket07B9157E",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "fruitapiPipelineBetaE2ETestE2ETest53CF633A": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Location": Object {
            "Fn::Join": Array [
              "/",
              Array [
                Object {
                  "Ref": "E2ETestCacheBucket6AAEB089",
                },
                Object {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Beta/E2E_Test",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineBetaE2ETestE2ETestRole354B9DBD",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"env\\": {
    \\"variables\\": {
      \\"MAVEN_OPTS\\": \\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\\",
      \\"MAVEN_ARGS\\": \\"--batch-mode --no-transfer-progress\\"
    }
  },
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"java\\": \\"corretto11\\"
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"mvn \${MAVEN_ARGS} soapui:test -Dsoapui.endpoint=\${ENDPOINT}\\"
      ]
    }
  },
  \\"cache\\": {
    \\"paths\\": [
      \\"/root/.m2/**/*\\"
    ]
  },
  \\"reports\\": {
    \\"e2e\\": {
      \\"files\\": [
        \\"target/soapui-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    }
  },
  \\"version\\": \\"0.2\\"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBetaE2ETestE2ETestRole354B9DBD": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBetaE2ETestE2ETestRoleDefaultPolicyEA859B71": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "E2ETestCacheBucket6AAEB089",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "E2ETestCacheBucket6AAEB089",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineBetaE2ETestE2ETest53CF633A",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineBetaE2ETestE2ETest53CF633A",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "fruitapiPipelineBetaE2ETestE2ETest53CF633A",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBetaE2ETestE2ETestRoleDefaultPolicyEA859B71",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineBetaE2ETestE2ETestRole354B9DBD",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBetaPromoteFromBetaCodePipelineActionRole2C98A223": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuild1CEF8E13": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Location": Object {
            "Fn::Join": Array [
              "/",
              Array [
                Object {
                  "Ref": "BuildCacheBucket53E45FA1",
                },
                Object {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/Build",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineBuildRoleD8011BF2",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"env\\": {
    \\"variables\\": {
      \\"MAVEN_OPTS\\": \\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\\",
      \\"MAVEN_ARGS\\": \\"--batch-mode --no-transfer-progress\\"
    }
  },
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"java\\": \\"corretto11\\"
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"mvn \${MAVEN_ARGS} clean verify\\"
      ]
    }
  },
  \\"cache\\": {
    \\"paths\\": [
      \\"/root/.m2/**/*\\"
    ]
  },
  \\"reports\\": {
    \\"unit\\": {
      \\"files\\": [
        \\"target/surefire-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    },
    \\"integration\\": {
      \\"files\\": [
        \\"target/soapui-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    }
  },
  \\"version\\": \\"0.2\\",
  \\"artifacts\\": {
    \\"base-directory\\": \\".\\",
    \\"files\\": [
      \\"**/*\\"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRoleDefaultPolicyF0F4E6F5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "lambda:ListFunctions",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRoleDefaultPolicyF0F4E6F5",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRoleDefaultPolicyE15CCB79": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "lambda:ListFunctions",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRoleDefaultPolicyE15CCB79",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildRoleD8011BF2": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildRoleDefaultPolicyC9102332": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "BuildCacheBucket53E45FA1",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "BuildCacheBucket53E45FA1",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineBuild1CEF8E13",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineBuild1CEF8E13",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "fruitapiPipelineBuild1CEF8E13",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildRoleDefaultPolicyC9102332",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineBuildRoleD8011BF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/Synth",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": true,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineBuildSynthCdkBuildProjectRole6C14B862",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"nodejs\\": 14
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"yarn install --frozen-lockfile\\",
        \\"npm run build\\",
        \\"npx cdk synth\\"
      ]
    }
  },
  \\"version\\": \\"0.2\\",
  \\"artifacts\\": {
    \\"base-directory\\": \\"cdk.out\\",
    \\"files\\": [
      \\"**/*\\"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBuildSynthCdkBuildProjectRole6C14B862": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildSynthCdkBuildProjectRoleDefaultPolicy034B1D6E": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildSynthCdkBuildProjectRoleDefaultPolicy034B1D6E",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectRole6C14B862",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE": Object {
      "DependsOn": Array [
        "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy7BFC3B00",
        "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
          "S3Key": "0e42ba9cd507b44e34a0cc426748d5754513a0b61bbeb646cb16b529b5db1c93.zip",
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
          },
        },
        "Handler": "index.main",
        "Role": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA",
            "Arn",
          ],
        },
        "Runtime": "nodejs16.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy7BFC3B00": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "codeguru-reviewer:ListCodeReviews",
                "codeguru-reviewer:ListRecommendations",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "codepipeline:PutJobSuccessResult",
                "codepipeline:PutJobFailureResult",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy7BFC3B00",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71": Object {
      "DependsOn": Array [
        "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicy375B423D",
        "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
          "S3Key": "0e42ba9cd507b44e34a0cc426748d5754513a0b61bbeb646cb16b529b5db1c93.zip",
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
          },
        },
        "Handler": "index.main",
        "Role": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC",
            "Arn",
          ],
        },
        "Runtime": "nodejs16.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicy375B423D": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "codeguru-reviewer:ListCodeReviews",
                "codeguru-reviewer:ListRecommendations",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "codepipeline:PutJobSuccessResult",
                "codepipeline:PutJobFailureResult",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicy375B423D",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineEventsRole00ED83BE": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "events.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineEventsRoleDefaultPolicy805E8108": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "codepipeline:StartPipelineExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codepipeline:us-east-1:dummy:",
                    Object {
                      "Ref": "fruitapiPipeline1F033DA2",
                    },
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineEventsRoleDefaultPolicy805E8108",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineEventsRole00ED83BE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineGammaPerformanceTestPerformanceTestF49A44CF": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Location": Object {
            "Fn::Join": Array [
              "/",
              Array [
                Object {
                  "Ref": "PerformanceTestCacheBucket9B84122F",
                },
                Object {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Gamma/Performance_Test",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineGammaPerformanceTestPerformanceTestRole6D0059B4",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"env\\": {
    \\"variables\\": {
      \\"MAVEN_OPTS\\": \\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\\",
      \\"MAVEN_ARGS\\": \\"--batch-mode --no-transfer-progress\\"
    }
  },
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"java\\": \\"corretto11\\"
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"mvn \${MAVEN_ARGS} soapui:test -Djmeter.endpoint=\${ENDPOINT} -Djmeter.threads=500 -Djmeter.duration=3000 -Djmeter.throughput=300000\\"
      ]
    }
  },
  \\"cache\\": {
    \\"paths\\": [
      \\"/root/.m2/**/*\\"
    ]
  },
  \\"reports\\": {
    \\"e2e\\": {
      \\"files\\": [
        \\"target/soapui-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    }
  },
  \\"version\\": \\"0.2\\"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineGammaPerformanceTestPerformanceTestRole6D0059B4": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineGammaPerformanceTestPerformanceTestRoleDefaultPolicyA984CBC0": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "PerformanceTestCacheBucket9B84122F",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "PerformanceTestCacheBucket9B84122F",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineGammaPerformanceTestPerformanceTestF49A44CF",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiPipelineGammaPerformanceTestPerformanceTestF49A44CF",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "fruitapiPipelineGammaPerformanceTestPerformanceTestF49A44CF",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineGammaPerformanceTestPerformanceTestRoleDefaultPolicyA984CBC0",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineGammaPerformanceTestPerformanceTestRole6D0059B4",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineGammaPromoteFromGammaCodePipelineActionRoleA0C2C11D": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineRoleDFF3438D": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codepipeline.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineRoleDefaultPolicyAA4C5A7F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiCodeBuildActionRole9A61A6CE",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-us-westeplicationbucket6c4b3648c465b12ccb3f",
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-us-westeplicationbucket6c4b3648c465b12ccb3f/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::834418886742:role/cdk-hnb659fds-deploy-role-834418886742-us-west-2",
                  ],
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineBetaPromoteFromBetaCodePipelineActionRole2C98A223",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineGammaPromoteFromGammaCodePipelineActionRoleA0C2C11D",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::211909469734:role/cdk-hnb659fds-deploy-role-211909469734-us-west-2",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineRoleDefaultPolicyAA4C5A7F",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineRoleDFF3438D",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy377E2A91": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codecommit:GetBranch",
                "codecommit:GetCommit",
                "codecommit:UploadArchive",
                "codecommit:GetUploadArchiveStatus",
                "codecommit:CancelUploadArchive",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "SourceCodeCommitRepoF7A67B81",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy377E2A91",
        "Roles": Array [
          Object {
            "Ref": "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiUpdatePipelineSelfMutation2C85BD41": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/UpdatePipeline/SelfMutate",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:5.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "Name": "fruit-api-selfupdate",
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "fruitapiUpdatePipelineSelfMutationRoleC7BC4C3A",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"version\\": \\"0.2\\",
  \\"phases\\": {
    \\"install\\": {
      \\"commands\\": [
        \\"npm install -g aws-cdk@2\\"
      ]
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cdk -a . deploy TestStack --require-approval=never --verbose\\"
      ]
    }
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiUpdatePipelineSelfMutationRoleC7BC4C3A": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiUpdatePipelineSelfMutationRoleDefaultPolicy4A3C9CE5": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Condition": Object {
                "ForAnyValue:StringEquals": Object {
                  "iam:ResourceTag/aws-cdk:bootstrap-role": Array [
                    "image-publishing",
                    "file-publishing",
                    "deploy",
                  ],
                },
              },
              "Effect": "Allow",
              "Resource": "arn:*:iam::dummy:role/*",
            },
            Object {
              "Action": "cloudformation:DescribeStacks",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiUpdatePipelineSelfMutationRoleDefaultPolicy4A3C9CE5",
        "Roles": Array [
          Object {
            "Ref": "fruitapiUpdatePipelineSelfMutationRoleC7BC4C3A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
  "Rules": Object {
    "CheckBootstrapVersion": Object {
      "Assertions": Array [
        Object {
          "Assert": Object {
            "Fn::Not": Array [
              Object {
                "Fn::Contains": Array [
                  Array [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  Object {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;
